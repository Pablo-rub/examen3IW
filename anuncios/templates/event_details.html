{% extends "base.html" %}

{% block content %}
    <h2>{{ event.name }}</h2>
    <p><strong>Organizador:</strong> {{ event.organizer }}</p>

    {% if address %}
        <p><strong>Dirección Buscada:</strong> {{ address }}</p>
    {% endif %}

    {% if event.place %}
        <p><strong>Lugar:</strong> {{ event.place }}</p>
    {% endif %}

    {% if event.timestamp %}
        <p><strong>Fecha y Hora:</strong> {{ event.timestamp }}</p>
    {% endif %}

    {% if event.details %}
        <p><strong>Detalles:</strong> {{ event.details }}</p>
    {% endif %}

    {% if event.image_url %}
        <p><strong>Imagen Promocional:</strong></p>
        <img src="{{ event.image_url }}" alt="Imagen de {{ event.name }}" class="event-image">
    {% endif %}

    <!-- Opciones de Editar y Eliminar -->
    <div class="event-actions" style="margin-top: 20px;">
        <a href="{{ url_for('edit_event', event_id=event._id) }}" class="edit-event-button">Editar Evento</a>
        
        <form action="{{ url_for('delete_event', event_id=event._id) }}" method="post" style="display:inline;">
            <button type="submit" class="delete-event-button" onclick="return confirm('¿Estás seguro de que deseas eliminar este evento?');">Eliminar Evento</button>
        </form>
    </div>

    <!-- Mapa de la Ubicación del Evento -->
    {% if event.lat and event.lon %}
        <div id="event-map" style="height: 400px; margin-top: 20px;"></div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                window.initializeMap('event-map', {{ event.lat }}, {{ event.lon }});
            });
        </script>
    {% endif %}
{% endblock %}